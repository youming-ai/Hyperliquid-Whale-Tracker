# Supabase Configuration for HyperDash Platform
# https://supabase.com/docs/guides/local-development

# Project ID (matches your Supabase project)
project_id = "your-project-ref"

# API Port
api_port = 54321

# Database URL
db_url = "postgresql://postgres:postgres@localhost:54322/postgres"

# Studio Port
studio_port = 54323

# Inbucket (Email testing) Port
inbucket_port = 54324

# JWT Secret (generate with: openssl rand -base64 32)
jwt_secret = "your-super-secret-jwt-key-here"

# Anon Key (public - safe to expose)
anon_key = "your-anon-key-here"

# Service Role Key (secret - never expose)
service_role_key = "your-service-role-key-here"

# Edge Runtime
edge_runtime_port = 54325

# Functions
[functions]
  # Verify Stripe webhook signatures
  [functions.stripe-webhook]
    verify_jwt = false

  # Process billing events
  [functions.billing-handler]
    verify_jwt = true

# Database Migrations
[db]
  # Port for the database
  port = 54322

  # Schema to use
  schema = "public"

  # Pool size
  pool_size = 15

  # Pool timeout
  pool_timeout = 30

# Studio
[studio]
  # Port for the Studio
  port = 54323

  # Open browser on start
  open_browser = true

# Inbucket (Email testing)
[inbucket]
  # Port for Inbucket
  port = 54324

  # UI Port
  ui_port = 54325

  # SMTP Port
  smtp_port = 54326

# Auth
[auth]
  # Site URL
  site_url = "http://localhost:3001"

  # Additional redirect URLs
  additional_redirect_urls = ["https://your-domain.com"]

  # JWT Expiry
  jwt_expiry = 3600

  # Enable email confirmations
  enable_email_confirmations = true

  # Enable phone confirmations
  enable_phone_confirmations = false

  # Enable signup
  enable_signup = true

  # Email templates
  [auth.email]
    # Email signup template
    [auth.email.signup]
      subject = "Welcome to HyperDash!"
      body_path = "./supabase/templates/signup.html"

    # Email confirmation template
    [auth.email.confirmation]
      subject = "Confirm your email"
      body_path = "./supabase/templates/confirmation.html"

# Storage
[storage]
  # Image transformation enabled
  image_transformation_enabled = true

  # File size limit (bytes)
  file_size_limit = 52428800

  # Allowed image formats
  image_formats = ["jpg", "jpeg", "png", "gif", "webp", "avif"]

# Realtime
[realtime]
  # Enabled
  enabled = true

  # Max concurrent connections
  max_concurrent_connections = 200
