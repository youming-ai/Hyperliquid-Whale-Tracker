<?xml version="1.0"?>
<yandex>
    <!-- ClickHouse configuration for HyperDash -->

    <!-- Logger settings -->
    <logger>
        <level>information</level>
        <console>true</console>
    </logger>

    <!-- HTTP interface -->
    <http_port>8123</http_port>

    <!-- TCP interface -->
    <tcp_port>9000</tcp_port>

    <!-- Interserver HTTP port for replication -->
    <interserver_http_port>9009</interserver_http_port>

    <!-- Hostname for replication -->
    <interserver_http_host>clickhouse</interserver_http_host>

    <!-- Memory settings -->
    <max_memory_usage>10000000000</max_memory_usage>
    <max_bytes_before_external_group_by>2000000000</max_bytes_before_external_group_by>
    <max_bytes_before_external_sort>2000000000</max_bytes_before_external_sort>

    <!-- Database settings -->
    <default_database>hyperdash_analytics</default_database>

    <!-- Compression settings -->
    <compression>
        <case>
            <min_part_size>1000000000</min_part_size>
            <min_part_size_ratio>0.01</min_part_size>
            <method>lz4</method>
        </case>
    </compression>

    <!-- Merge tree settings -->
    <merge_tree>
        <max_bytes_to_merge_at_start_of_partition>0</max_bytes_to_merge_at_start_of_partition>
        <max_bytes_to_merge_at_max_space_in_pool>0</max_bytes_to_merge_at_max_space_in_pool>
    </merge_tree>

    <!-- User settings -->
    <users>
        <default>
            <password></password>
            <networks>
                <ip>::/0</ip>
            </networks>
            <profile>default</profile>
            <quota>default</quota>
            <databases>
                <database>hyperdash_analytics</database>
            </databases>
        </default>
    </users>

    <!-- Profiles -->
    <profiles>
        <default>
            <max_memory_usage>10000000000</max_memory_usage>
            <use_uncompressed_cache>0</use_uncompressed_cache>
            <load_balancing>random</load_balancing>
        </default>

        <readonly>
            <readonly>1</readonly>
        </readonly>
    </profiles>

    <!-- Quotas -->
    <quotas>
        <default>
            <interval>
                <duration>3600</duration>
                <queries>0</queries>
                <errors>0</errors>
                <result_rows>0</result_rows>
                <read_rows>0</read_rows>
                <execution_time>0</execution_time>
            </interval>
        </default>
    </quotas>

</yandex>
